-- 1) Load thư viện WazureV1 từ GitHub
local WazureV1 = loadstring(game:HttpGet(
    "https://raw.githubusercontent.com/0xteru/uilibrary/refs/heads/main/Wazure%20V1%20Lib/Source.lua"
))()

-- 2) Khởi tạo GUI
local WazureGui = WazureV1:Start({
    Name = "W-azure",
    ["Logo Player"] = "rbxassetid://18243105495",
    ["Name Player"] = "SongDaiThanhHuyenTh",
    ["Tab Width"] = 120,
    Color = Color3.fromRGB(6, 141, 234),
    ["Custom Toggle"] = false,
    ["Save Config"] = { Folder = "W-azure", ["Name Config"] = "Config" },
    ["CloseCallBack"] = function()
        WazureV1:Notify({
            Title = "W-azure",
            Content = "UI Closed",
            Logo = "rbxassetid://18289959127",
            Time = 1,
            Delay = 5,
        })
    end
})

-- 3) Tạo tất cả các Tab
local Tabs = {
    "Main", "Sub Farm", "Fruits - Raid", "Status", "Server", "PvP", "Player", "Sea Event",
    "Leviathan", "Prehistoric Event", "Webhook", "Music", "Setting", "OneClick", "OneClickDebug"
}

local TabObjects = {}
for _, name in ipairs(Tabs) do
    TabObjects[name] = WazureGui:MakeTab(name)
end

-- 4) Thiết lập các Tab cơ bản (label + nút)
for _, name in ipairs(Tabs) do
    local tab = TabObjects[name]
    tab:MakeLabel("=== " .. name .. " ===")
    tab:MakeButton(name, {
        Title = "Bạn vừa nhấn " .. name,
        Content = "Tab " .. name .. " hoạt động!",
        Logo = "rbxassetid://18289959127",
        Callback = function()
            WazureV1:Notify({
                Title = name,
                Content = "Bạn vừa nhấn nút " .. name .. " thành công.",
                Logo = "rbxassetid://18289959127",
                Time = 2,
            })
        end
    })
end

-- 5) Setting Tab: Các chức năng khác
do
    local settingTab = TabObjects["Setting"]
    local Toggles = {
        AutoFarm = false,
        AutoKillBoss = false,
        AutoCollectChest = false,
        AutoSeaBeast = false,
    }

    -- Load trạng thái từ Config lưu
    local configData = WazureV1:GetConfig()
    if configData then
        Toggles.AutoFarm = configData.AutoFarm or false
        Toggles.AutoKillBoss = configData.AutoKillBoss or false
        Toggles.AutoCollectChest = configData.AutoCollectChest or false
        Toggles.AutoSeaBeast = configData.AutoSeaBeast or false
    end

    -- Hàm tạo nút bấm
    local function CreateToggleButton(tab, label, toggleKey, startFunc)
        local Button = tab:MakeButton(label, {
            Title = label,
            Content = "Đang kiểm tra trạng thái...",
            Logo = "rbxassetid://18289959127",
            Callback = function()
                Toggles[toggleKey] = not Toggles[toggleKey]

                -- Cập nhật màu nút
                if Toggles[toggleKey] then
                    Button.BackgroundColor3 = Color3.fromRGB(6, 141, 234)  -- Màu xanh khi bật
                    startFunc()
                    WazureV1:Notify({
                        Title = label,
                        Content = label .. " đã BẬT!",
                        Logo = "rbxassetid://18289959127",
                        Time = 2
                    })
                else
                    Button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)  -- Màu đen khi tắt
                    WazureV1:Notify({
                        Title = label,
                        Content = label .. " đã TẮT!",
                        Logo = "rbxassetid://18289959127",
                        Time = 2
                    })
                end

                -- Save trạng thái vào Config
                local currentConfig = WazureV1:GetConfig() or {}
                currentConfig[toggleKey] = Toggles[toggleKey]
                WazureV1:SaveConfig(currentConfig)
            end
        })

        -- Set màu đúng theo trạng thái đã lưu
        if Toggles[toggleKey] then
            Button.BackgroundColor3 = Color3.fromRGB(6, 141, 234)
            startFunc()
        else
            Button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        end
    end

    -- Tạo các nút bấm trong Setting Tab (loại bỏ Fast Attack)
    CreateToggleButton(settingTab, "Auto Farm", "AutoFarm", function() 
        -- Logic Auto Farm ở đây
    end)
    CreateToggleButton(settingTab, "Auto Kill Boss", "AutoKillBoss", function()
        -- Logic Auto Kill Boss ở đây
    end)
    CreateToggleButton(settingTab, "Auto Collect Chest", "AutoCollectChest", function()
        -- Logic Auto Collect Chest ở đây
    end)
    CreateToggleButton(settingTab, "Auto Sea Beast", "AutoSeaBeast", function()
        -- Logic Auto Sea Beast ở đây
    end)
end

-- 9) Done
print("W-azure UI loaded with all tabs & functions without Fast Attack.")
